<!doctype html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang=""> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8" lang=""> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9" lang=""> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="">
	<!--<![endif]-->

	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<title>HRC Map with 'your' location</title>
		<meta name="description" content="">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="apple-touch-icon" href="apple-touch-icon.png">

		<link rel="stylesheet" href="css/bootstrap.min.css">
		<style>
			body {
				padding-top: 50px;
				padding-bottom: 20px;
			}

		</style>
		<link rel="stylesheet" href="css/bootstrap-theme.min.css">
		<link rel="stylesheet" href="css/main.css">

		<script src="js/vendor/modernizr-2.8.3-respond-1.4.2.min.js"></script>

		<!-- Reference to the Bing Maps SDK -->
		<script type='text/javascript' src='http://www.bing.com/api/maps/mapcontrol?callback=GetMap&key=AqC2KKokfh-MA8CAQC442najhsWu6T1ueTu2MFLBDLSP1_N9fXm4yDCKss3-c-6S' async defer></script>

		<script type='text/javascript'>
			function GetMap() {
				var map = new Microsoft.Maps.Map('#myMap', {
					credentials : 'AqC2KKokfh-MA8CAQC442najhsWu6T1ueTu2MFLBDLSP1_N9fXm4yDCKss3-c-6S',
					center : new Microsoft.Maps.Location(51.8669794, -2.2500637),
					mapTypeId : Microsoft.Maps.MapTypeId.road,
					zoom : 10
				});

				//Add your post map load code here.

				//Fosse Cross (Cirencester) 51.779797, -1.920999
				var location1 = new Microsoft.Maps.Location(51.779797, -1.920999);
				var pin1 = new Microsoft.Maps.Pushpin(location1, {
					//Store some metadata with the pushpin.
					title : 'Fosse Cross',
					subTitle : '(Cirencester)',
					text : '♲'
				});
				//Add pushpin to the map.
				map.entities.push(pin1);

				//Hempsted (Gloucester) 51.859249, -2.274218
				var location2 = new Microsoft.Maps.Location(51.859249, -2.274218);
				var pin2 = new Microsoft.Maps.Pushpin(location2, {
					//Store some metadata with the pushpin.
					title : 'Hempsted',
					subTitle : '(Gloucester)',
					text : '♲'
				});
				//Add pushpin to the map.
				map.entities.push(pin2);

				//Oak Quarry (Coleford) 51.799728, -2.590617
				var location3 = new Microsoft.Maps.Location(51.799728, -2.590617);
				var pin3 = new Microsoft.Maps.Pushpin(location3, {
					//Store some metadata with the pushpin.
					title : 'Oak Quarry',
					subTitle : '(Coleford)',
					text : '♲'
				});
				//Add pushpin to the map.
				map.entities.push(pin3);

				//Pyke Quarry (Horsley) 51.679169, -2.271702
				var location4 = new Microsoft.Maps.Location(51.679169, -2.271702);
				var pin4 = new Microsoft.Maps.Pushpin(location4, {
					//Store some metadata with the pushpin.
					title : 'Pyke Quarry',
					subTitle : '(Horsley)',
					text : '♲'
				});
				//Add pushpin to the map.
				map.entities.push(pin4);

				//Wingmoor Farm (Bishop's Cleeve) 51.942959, -2.100371
				var location5 = new Microsoft.Maps.Location(51.942959, -2.100371);
				var pin5 = new Microsoft.Maps.Pushpin(location5, {
					//Store some metadata with the pushpin.
					title : 'Wingmoor Farm',
					subTitle : '(Bishop\'s Cleeve)',
					text : '♲'
				});
				//Add pushpin to the map.
				map.entities.push(pin5);

				//Request the user's location
				navigator.geolocation.getCurrentPosition(function(position) {
					var loc = new Microsoft.Maps.Location(position.coords.latitude, position.coords.longitude);

					//Add a pushpin at the user's location.
					var pin = new Microsoft.Maps.Pushpin(loc, {
						color : 'red',
						title : 'Your location',
						text : '⌂'
					});
					map.entities.push(pin);

					//Center the map on the user's location.
					map.setView({
						center : loc
						//,zoom: 15
					});

				});
			}

		</script>

	</head>

	<body>
		<!--[if lt IE 8]>
		<p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
		<![endif]-->

		<!--    <div id="myMap" style="position:relative;width:800px;height:600px;"></div>
		-->
		<div class="container">
			<div id="myMap" class="col-xs-12" style="height: 600px; max-height: 100%"></div>
		</div>

		<script>
			window.jQuery || document.write('<script src="js/vendor/jquery-1.11.2.min.js"><\/script>')

		</script>

		<script src="js/vendor/bootstrap.min.js"></script>

		<script src="js/plugins.js"></script>
		<script src="js/main.js"></script>

	</body>

</html>
